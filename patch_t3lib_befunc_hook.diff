945c945,946
< 	function getFlexFormDS($conf,$row,$table)	{
---
> 	function getFlexFormDS($conf,$row,$table, $fieldName = '')	{
> 		global $TYPO3_CONF_VARS;
951a953,960
> 	
> 			// Hook for modifying the DataStructure Array dynamically
> 		$hookObjectsArr = array();
> 		if (is_array ($TYPO3_CONF_VARS['SC_OPTIONS']['t3lib/class.t3lib_befunc.php']['getFlexFormDSClass'])) {
> 			foreach ($TYPO3_CONF_VARS['SC_OPTIONS']['t3lib/class.t3lib_befunc.php']['getFlexFormDSClass'] as $classRef) {
> 				$hookObjectsArr[] = &t3lib_div::getUserObj($classRef);
> 			}
> 		}
1014a1024,1031
> 			
> 			// Hook: getFlexFormDS_postProcessDS
> 		foreach($hookObjectsArr as $hookObj)	{
> 			if (method_exists($hookObj, 'getFlexFormDS_postProcessDS')) {
> 				$hookObj->getFlexFormDS_postProcessDS($dataStructArray, $conf, $row, $table, $fieldName);
> 			}
> 		}
> 
